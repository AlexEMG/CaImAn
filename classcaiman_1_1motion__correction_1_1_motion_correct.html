<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Caiman: MotionCorrect Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Caiman_logo_FIsmall.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Caiman
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">A Computational toolbox for large scale Calcium Imaging Analysis</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classcaiman_1_1motion__correction_1_1_motion_correct.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classcaiman_1_1motion__correction_1_1_motion_correct-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MotionCorrect Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>class implementing motion correction operations  
 <a href="classcaiman_1_1motion__correction_1_1_motion_correct.html#details">More...</a></p>

<p>Inherits object.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3fa74c06467bd18042723b2054e3ddc8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a3fa74c06467bd18042723b2054e3ddc8">__init__</a> (self, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a887f167c51f79cfdfcb696078f4dab27">fname</a>, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#aaa1f30a0be9c3c61e8cbb081b961f93d">min_mov</a>, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a2e98a47cee987dc7000ac312036cddaf">dview</a>=None, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#aa7bf4838a4a728185e5f6f498987f8e5">max_shifts</a>=(6, 6), <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a622d22b8e41ec1471dbd82d5c036db49">niter_rig</a>=1, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a9825a03ea63b77b2da75775471a4d944">splits_rig</a>=14, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#ad0d844b215dbcf6c8ef60c6d73772cad">num_splits_to_process_rig</a>=None, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a815021df904d32a73e6c8a8d1bdd7064">strides</a>=(96, 96), <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a0a01bd51c8df419725528ceaf0ce4ab6">overlaps</a>=(32, 32), <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a4cd444330ecacabcb58206705cd4b9c5">splits_els</a>=14, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a4cfdc0291fc31008675ce8dc73a978a8">num_splits_to_process_els</a>=[7, None, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a3e652a9332445b783a5619a1135c6556">upsample_factor_grid</a>=4, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#abf2deaad9d5a7cdac808fdd7159360d6">max_deviation_rigid</a>=3, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#ac6592808ea206727dd6408fa35f77b30">shifts_opencv</a>=True, <a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a5369a195108c8863c09409a44a883750">nonneg_movie</a>=False)</td></tr>
<tr class="memdesc:a3fa74c06467bd18042723b2054e3ddc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor class for motion correction operations.  <a href="#a3fa74c06467bd18042723b2054e3ddc8">More...</a><br /></td></tr>
<tr class="separator:a3fa74c06467bd18042723b2054e3ddc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafece156c187643f10049cd7d77e2062"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#aafece156c187643f10049cd7d77e2062">motion_correct_rigid</a> (self, template=None, save_movie=False)</td></tr>
<tr class="memdesc:aafece156c187643f10049cd7d77e2062"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform rigid motion correction.  <a href="#aafece156c187643f10049cd7d77e2062">More...</a><br /></td></tr>
<tr class="separator:aafece156c187643f10049cd7d77e2062"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7451ac4ac13adb517b3b25a221930b2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#ad7451ac4ac13adb517b3b25a221930b2">motion_correct_pwrigid</a> (self, save_movie=True, template=None, show_template=True)</td></tr>
<tr class="memdesc:ad7451ac4ac13adb517b3b25a221930b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform pw-rigid motion correction.  <a href="#ad7451ac4ac13adb517b3b25a221930b2">More...</a><br /></td></tr>
<tr class="separator:ad7451ac4ac13adb517b3b25a221930b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a887f167c51f79cfdfcb696078f4dab27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a887f167c51f79cfdfcb696078f4dab27">fname</a></td></tr>
<tr class="separator:a887f167c51f79cfdfcb696078f4dab27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e98a47cee987dc7000ac312036cddaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a2e98a47cee987dc7000ac312036cddaf">dview</a></td></tr>
<tr class="separator:a2e98a47cee987dc7000ac312036cddaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7bf4838a4a728185e5f6f498987f8e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#aa7bf4838a4a728185e5f6f498987f8e5">max_shifts</a></td></tr>
<tr class="separator:aa7bf4838a4a728185e5f6f498987f8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622d22b8e41ec1471dbd82d5c036db49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a622d22b8e41ec1471dbd82d5c036db49">niter_rig</a></td></tr>
<tr class="separator:a622d22b8e41ec1471dbd82d5c036db49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9825a03ea63b77b2da75775471a4d944"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a9825a03ea63b77b2da75775471a4d944">splits_rig</a></td></tr>
<tr class="separator:a9825a03ea63b77b2da75775471a4d944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d844b215dbcf6c8ef60c6d73772cad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#ad0d844b215dbcf6c8ef60c6d73772cad">num_splits_to_process_rig</a></td></tr>
<tr class="separator:ad0d844b215dbcf6c8ef60c6d73772cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a815021df904d32a73e6c8a8d1bdd7064"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a815021df904d32a73e6c8a8d1bdd7064">strides</a></td></tr>
<tr class="separator:a815021df904d32a73e6c8a8d1bdd7064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a01bd51c8df419725528ceaf0ce4ab6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a0a01bd51c8df419725528ceaf0ce4ab6">overlaps</a></td></tr>
<tr class="separator:a0a01bd51c8df419725528ceaf0ce4ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd444330ecacabcb58206705cd4b9c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a4cd444330ecacabcb58206705cd4b9c5">splits_els</a></td></tr>
<tr class="separator:a4cd444330ecacabcb58206705cd4b9c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfdc0291fc31008675ce8dc73a978a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a4cfdc0291fc31008675ce8dc73a978a8">num_splits_to_process_els</a></td></tr>
<tr class="separator:a4cfdc0291fc31008675ce8dc73a978a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e652a9332445b783a5619a1135c6556"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a3e652a9332445b783a5619a1135c6556">upsample_factor_grid</a></td></tr>
<tr class="separator:a3e652a9332445b783a5619a1135c6556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2deaad9d5a7cdac808fdd7159360d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#abf2deaad9d5a7cdac808fdd7159360d6">max_deviation_rigid</a></td></tr>
<tr class="separator:abf2deaad9d5a7cdac808fdd7159360d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6592808ea206727dd6408fa35f77b30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#ac6592808ea206727dd6408fa35f77b30">shifts_opencv</a></td></tr>
<tr class="separator:ac6592808ea206727dd6408fa35f77b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa1f30a0be9c3c61e8cbb081b961f93d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#aaa1f30a0be9c3c61e8cbb081b961f93d">min_mov</a></td></tr>
<tr class="separator:aaa1f30a0be9c3c61e8cbb081b961f93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5369a195108c8863c09409a44a883750"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a5369a195108c8863c09409a44a883750">nonneg_movie</a></td></tr>
<tr class="separator:a5369a195108c8863c09409a44a883750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e9505554317ab223cd9694ebb1b7ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a18e9505554317ab223cd9694ebb1b7ed">shifts_rig</a></td></tr>
<tr class="separator:a18e9505554317ab223cd9694ebb1b7ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766cc4e32821de94f990f75df703dbf0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a766cc4e32821de94f990f75df703dbf0">total_template_els</a></td></tr>
<tr class="separator:a766cc4e32821de94f990f75df703dbf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c72b5dbd92e1c41440d9e041a26038a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcaiman_1_1motion__correction_1_1_motion_correct.html#a2c72b5dbd92e1c41440d9e041a26038a">coord_shifts_els</a></td></tr>
<tr class="separator:a2c72b5dbd92e1c41440d9e041a26038a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>class implementing motion correction operations </p>
<h2>Parameters </h2>
<p>fname str path to file to motion correct</p>
<p>min_mov int16 or float32 estimated minimum value of the movie to produce an output that is positive</p>
<p>dview ipyparallel view object list to perform parallel computing, if NOne will operate in single thread</p>
<p>max_shifts tuple maximum allow rigid shift</p>
<p>niter_rig':int maximum number of iterations rigid motion correction, in general is 1. 0 will quickly initialize a template with the first frames</p>
<p>splits_rig int for parallelization split the movies in num_splits chuncks across time</p>
<p>num_splits_to_process_rig:list, if none all the splits are processed and the movie is saved, otherwise at each iteration num_splits_to_process_rig are considered</p>
<p>strides tuple intervals at which patches are laid out for motion correction</p>
<p>overlaps tuple overlap between pathes (size of patch strides+overlaps)</p>
<p>splits_els':list for parallelization split the movies in num_splits chuncks across time</p>
<p>num_splits_to_process_els:list, if none all the splits are processed and the movie is saved otherwise at each iteration num_splits_to_process_els are considered</p>
<p>upsample_factor_grid:int, upsample factor of shifts per patches to avoid smearing when merging patches</p>
<p>max_deviation_rigid:int maximum deviation allowed for patch with respect to rigid shift</p>
<p>shifts_opencv Bool apply shifts fast way (but smoothing results)</p>
<p>nonneg_movie boolean make the SAVED movie and template mostly nonnegative by removing min_mov from movie</p>
<h2></h2>
<dl class="section return"><dt>Returns</dt><dd>self <pre class="fragment">   important fields</pre> </dd></dl>

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00133">133</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3fa74c06467bd18042723b2054e3ddc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fa74c06467bd18042723b2054e3ddc8">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_mov</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dview</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_shifts</em> = <code>(6,6)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>niter_rig</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>splits_rig</em> = <code>14</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_splits_to_process_rig</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strides</em> = <code>(96,96)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>overlaps</em> = <code>(32,32)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>splits_els</em> = <code>14</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_splits_to_process_els</em> = <code>[7</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>None</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>upsample_factor_grid</em> = <code>4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_deviation_rigid</em> = <code>3</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shifts_opencv</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nonneg_movie</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor class for motion correction operations. </p>

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00140">140</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad7451ac4ac13adb517b3b25a221930b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7451ac4ac13adb517b3b25a221930b2">&#9670;&nbsp;</a></span>motion_correct_pwrigid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def motion_correct_pwrigid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>save_movie</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>template</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>show_template</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform pw-rigid motion correction. </p>
<h2>Parameters </h2>
<p>template ndarray 2D if known, one can pass a template to register the frames to</p>
<p>save_movie:Bool save the movies vs just get the template</p>
<p>show_template boolean whether to show the updated template at each iteration</p>
<h2></h2>
<dl class="section return"><dt>Returns</dt><dd>self <pre class="fragment">   important fields:
</pre> </dd>
<dd>
self name of the mmap file saved </dd>
<dd>
self template updated by iterating over the chunks </dd>
<dd>
self shifts in x per frame per patch </dd>
<dd>
self shifts in y per frame per patch </dd>
<dd>
self coordinates associated to the patch for values in x_shifts_els and y_shifts_els </dd>
<dd>
self list of templates. one for each chunk</dd></dl>
<h2>Raise </h2>
<p>Exception('Template contains NaNs, something went wrong. Reconsider the parameters') </p>

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00228">228</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classcaiman_1_1motion__correction_1_1_motion_correct_ad7451ac4ac13adb517b3b25a221930b2_cgraph.svg" width="363" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<a id="aafece156c187643f10049cd7d77e2062"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafece156c187643f10049cd7d77e2062">&#9670;&nbsp;</a></span>motion_correct_rigid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def motion_correct_rigid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>template</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>save_movie</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform rigid motion correction. </p>
<h2>Parameters </h2>
<p>template ndarray 2D if known, one can pass a template to register the frames to</p>
<p>save_movie_rigid:Bool save the movies vs just get the template</p>
<h2></h2>
<dl class="section return"><dt>Returns</dt><dd>self <pre class="fragment">   important fields:
</pre></dd>
<dd>
self name of the mmap file saved</dd>
<dd>
self template updated by iterating over the chunks</dd>
<dd>
self list of templates. one for each chunk</dd>
<dd>
self shifts in x and y per frame </dd></dl>

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00184">184</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="classcaiman_1_1motion__correction_1_1_motion_correct_aafece156c187643f10049cd7d77e2062_icgraph.svg" width="363" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2c72b5dbd92e1c41440d9e041a26038a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c72b5dbd92e1c41440d9e041a26038a">&#9670;&nbsp;</a></span>coord_shifts_els</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">coord_shifts_els</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00241">241</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a2e98a47cee987dc7000ac312036cddaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e98a47cee987dc7000ac312036cddaf">&#9670;&nbsp;</a></span>dview</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dview</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00142">142</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a887f167c51f79cfdfcb696078f4dab27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a887f167c51f79cfdfcb696078f4dab27">&#9670;&nbsp;</a></span>fname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fname</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00141">141</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="abf2deaad9d5a7cdac808fdd7159360d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf2deaad9d5a7cdac808fdd7159360d6">&#9670;&nbsp;</a></span>max_deviation_rigid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">max_deviation_rigid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00152">152</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="aa7bf4838a4a728185e5f6f498987f8e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7bf4838a4a728185e5f6f498987f8e5">&#9670;&nbsp;</a></span>max_shifts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">max_shifts</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00143">143</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="aaa1f30a0be9c3c61e8cbb081b961f93d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa1f30a0be9c3c61e8cbb081b961f93d">&#9670;&nbsp;</a></span>min_mov</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">min_mov</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00154">154</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a622d22b8e41ec1471dbd82d5c036db49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a622d22b8e41ec1471dbd82d5c036db49">&#9670;&nbsp;</a></span>niter_rig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">niter_rig</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00144">144</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a5369a195108c8863c09409a44a883750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5369a195108c8863c09409a44a883750">&#9670;&nbsp;</a></span>nonneg_movie</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nonneg_movie</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00155">155</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a4cfdc0291fc31008675ce8dc73a978a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfdc0291fc31008675ce8dc73a978a8">&#9670;&nbsp;</a></span>num_splits_to_process_els</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">num_splits_to_process_els</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00150">150</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="ad0d844b215dbcf6c8ef60c6d73772cad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0d844b215dbcf6c8ef60c6d73772cad">&#9670;&nbsp;</a></span>num_splits_to_process_rig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">num_splits_to_process_rig</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00146">146</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a0a01bd51c8df419725528ceaf0ce4ab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a01bd51c8df419725528ceaf0ce4ab6">&#9670;&nbsp;</a></span>overlaps</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">overlaps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00148">148</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="ac6592808ea206727dd6408fa35f77b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6592808ea206727dd6408fa35f77b30">&#9670;&nbsp;</a></span>shifts_opencv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shifts_opencv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00153">153</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a18e9505554317ab223cd9694ebb1b7ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18e9505554317ab223cd9694ebb1b7ed">&#9670;&nbsp;</a></span>shifts_rig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">shifts_rig</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00187">187</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a4cd444330ecacabcb58206705cd4b9c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd444330ecacabcb58206705cd4b9c5">&#9670;&nbsp;</a></span>splits_els</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">splits_els</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00149">149</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a9825a03ea63b77b2da75775471a4d944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9825a03ea63b77b2da75775471a4d944">&#9670;&nbsp;</a></span>splits_rig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">splits_rig</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00145">145</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a815021df904d32a73e6c8a8d1bdd7064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a815021df904d32a73e6c8a8d1bdd7064">&#9670;&nbsp;</a></span>strides</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">strides</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00147">147</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a766cc4e32821de94f990f75df703dbf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a766cc4e32821de94f990f75df703dbf0">&#9670;&nbsp;</a></span>total_template_els</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">total_template_els</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00233">233</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<a id="a3e652a9332445b783a5619a1135c6556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e652a9332445b783a5619a1135c6556">&#9670;&nbsp;</a></span>upsample_factor_grid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upsample_factor_grid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="motion__correction_8py_source.html#l00151">151</a> of file <a class="el" href="motion__correction_8py_source.html">motion_correction.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="motion__correction_8py_source.html">motion_correction.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="footer" role="contentinfo">
&copy; Copyright 2015, Eftychios Pnevmatikakis and Andrea Giovannucci.Created using 
<a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a> </div>